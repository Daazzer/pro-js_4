# 第 28 章 最佳实践

JavaScript 的最佳实践可以分成几类，适用于开发流程的不同阶段。

## 28.1 可维护性

编写可维护的代码十分重要，因为大多数开发者会花大量时间去维护别人写的代码。

实际开发中，从第一行代码开始写起的情况非常少，通常是要在别人的代码之上构建自己的工作。让自己的代码容易维护，可以保证其他开发者更好地完成自己的工作。

### 28.1.1 什么是可维护的代码

“可维护”就意味着它具备如下特点。

- **容易理解** 无须求助原始开发者，任何人一看代码就知道它是干什么的，以及它是怎么实现的。
- **符合常识** 代码中的一切都显得顺理成章，无论操作有多么复杂。
- **容易适配** 即使数据发生变化也不用完全重写。
- **容易扩展** 代码架构经过认真设计，支持未来扩展核心功能。
- **容易调试** 出问题时，代码可以给出明确的信息，通过它能直接定位问题。

### 28.1.2 编码规范

优秀开源项目有严格的编码规范，可以让社区的所有人容易地理解代码是如何组织的。

编码规范对 JavaScript 而言非常重要，因为这门语言实在太灵活了。与大多数面向对象语言不同， JavaScript 并不强迫开发者把任何东西都定义为对象。它支持任何编程风格，包括传统的面向对象编程、声明式编程，以及函数式编程。

#### 1.可读性

代码缩进，如果所有人都使用相同的缩进，缩进通常要使用空格数而不是 Tab（制表符）来定义

代码注释，可能给 JavaScript 中的每个函数都写注释才更重要

- **函数和方法** 每个函数和方法都应该有注释来描述其用途，以及完成任务所用的算法。同时，也写清使用这个函数或方法的前提（假设）、每个参数的含义，以及函数是否返回值（因为通过函数定义看不出来）。
- **大型代码块** 多行代码但用于完成单一任务的，应该在前面给出注释，把要完成的任务写清楚。
- **复杂的算法** 如果使用了独特的方法解决问题，要通过注释解释明白。这样不仅可以帮助别人查看代码，也可以帮助自己今后查看代码。
- **使用黑科技** 由于浏览器之间的差异，JavaScript 代码中通常包含一些黑科技。不要假设其他人一看就能明白某个黑科技是为了解决某个浏览器的什么问题。如果某个浏览器不能使用正常方式达到目的，那要在注释里把黑科技的用途写出来。这样可以避免别人误以为黑科技没有用而把它“修复”掉，结果你已解决的问题又会出现。

